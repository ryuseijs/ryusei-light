/*!
 * RyuseiLight.js
 * Version  : 0.0.24
 * License  : MIT
 * Copyright: 2020 Naotoshi Fujita
 */
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(n="undefined"!=typeof globalThis?globalThis:n||self).RyuseiLight=e()}(this,(function(){"use strict";var n="\n",e="keyword",t="comment",i="tag",r="selector",o="attr",a="prop",s="value",u="cdata",c="prolog",l="string",f="number",d="boolean",p="function",m="class",v="operator",h="bracket",g="delimiter",b="space",y="text";function S(n){return null!==n&&"object"==typeof n}function _(n){return Array.isArray(n)}function k(n){return"string"==typeof n}function x(n){return void 0===n}function F(n){return n instanceof HTMLElement}function A(n){return _(n)?n:[n]}function w(n,e){A(e).forEach((function(e){e&&n.classList.add(e)}))}function E(n,e){e=A(e);for(var t=0;t<e.length;t++)n.appendChild(e[t])}function L(n,e){if(n)for(var t=Object.keys(n),i=0;i<t.length;i++)e(n[t[i]],t[i])}function T(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return t.forEach((function(e){S(e)&&L(e,(function(t,i){x(e[i])||(n[i]=e[i])}))})),n}function z(n,e){if(k(e))return n.getAttribute(e)||"";S(e)&&L(e,(function(e,t){n.setAttribute(t,String(e))}))}function j(n,e){return void 0===e&&(e=document),e.querySelector(n)}function C(n,e){L(e,(function(e,t){n.style[t]=String(e)}))}function $(n,e){if(x(e))return n.textContent;n.textContent=e}function O(n,e){if(void 0===e&&(e=""),!n)throw new Error(e)}var B="ryuseilight";function N(n,e,t){var i=function(n,e){for(var t=0;t<n.length;t++)if(n[t][0]===e)return t;return-1}(n,e);i>-1?n.splice.apply(n,[i,0].concat(t)):n.push.apply(n,t)}function R(n,e){return n.charAt(0)===e}var I=!x(/x/.sticky),D=function(){function e(n){this.language=n,this.init(n)}var t=e.prototype;return t.init=function(n){var e=this;L(n.grammar,(function(t,i){n.grammar[i]=e.merge(n,t)})),L(n.use,this.init.bind(this))},t.merge=function(n,e){var t=this;return e.reduce((function(e,i){var r=i[0],o=i[1];if(R(r,"#")&&!o){var a=n.grammar[r.slice(1)];O(a),e.push.apply(e,t.merge(n,a))}else{var s=o.toString().match(/[gimsy]*$/)[0].replace(/[gy]/g,""),u=o.source+(I?"":"|()");L(n.source,(function(n,e){u=u.replace(new RegExp("%"+e,"g"),n.source)})),i[1]=new RegExp(u,(I?"y":"g")+s),e.push(i)}return e}),[])},t.tokenizeBy=function(n,e,t){var i=0,r=0;n:for(;i<n.length;){for(var o=0;o<t.length;o++){var a=t[o],s=a[1],u=a[2];s.lastIndex=i;var c=s.exec(n);if(c&&c[0]){if(r<i&&this.push([y,n.slice(r,i)]),"@back"===u){r=i;break n}if(r=i+=this.handle(c,e,t[o])||1,"@break"===u)break n;continue n}}i++}return r<i&&this.push([y,n.slice(r)]),i},t.push=function(e){for(var t,i=e[0],r=0,o=e[1];(t=o.indexOf(n,r))>-1;)r<t&&this.lines[this.index].push([i,o.slice(r,t)]),r=t+1,this.lines[++this.index]=[];(o=o.slice(r))&&this.lines[this.index].push([i,o])},t.handle=function(n,e,t){var i=t[0],r=0;if(i){var o=n[0];if("@debug"===t[3]&&console.log(o,t),R(i,"@")){O(e.use);var a=e.use[i.slice(1)];return O(a),this.tokenizeBy(o,a,a.grammar.main)}if(R(i,"#")){var s=e.grammar[i.slice(1)];O(s);var u="@rest"===t[2]?n.input.slice(n.index):o;return this.tokenizeBy(u,e,s)}r=o.length,this.push([i,o])}return r},t.tokenize=function(n){return this.lines=[[]],this.index=0,this.tokenizeBy(n,this.language,this.language.grammar.main),this.lines},e}(),H=function(){function n(){this.handlers={}}var e=n.prototype;return e.on=function(n,e,t){void 0===t&&(t=10);var i=this.handlers[n]=this.handlers[n]||[];i.push({callback:e,priority:t}),i.sort((function(n,e){return n.priority-e.priority}))},e.emit=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];(this.handlers[n]||[]).forEach((function(n){n.callback.apply(n,t)}))},e.destroy=function(){this.handlers={}},n}(),M=B,P="rl__body",J="rl__code",Q="is-active",Z={},X=function(){function e(n,e,t,i){void 0===i&&(i={}),this.lines=[],this.event=new H,this.lines=n,this.info=e,this.root=t,this.options=i,this.init()}e.compose=function(n){L(n,(function(n,e){Z[e]=n}))};var t=e.prototype;return t.init=function(){var n=this,e=this.lines;if(e.length){var t=e[e.length-1];t.length&&(1!==t.length||t[0][1].trim())||e.pop()}L(Z,(function(e){e(n)})),this.event.emit("mounted")},t.renderLines=function(e){for(var t=this.event,i=this.options.span?"span":"code",r=0;r<this.lines.length;r++){var o=this.lines[r],a=["rl__line"];if(t.emit("line:open",e,a,r),e('<div class="'+a.join(" ")+'">'),o.length)for(var s=0;s<o.length;s++){var u=o[s],c=["rl__token rl__"+u[0]];t.emit("token",u,c),e("<"+i+' class="'+c.join(" ")+'">'+(u[1].replace(/&/g,"&amp;").replace(/</g,"&lt;")+"</")+i+">")}else e(n);e("</div>"),t.emit("line:closed",e,r)}},t.html=function(n){var e=this.event,t="",i=function(n){t+=n};n&&(t+='<pre class="'+M+" "+M+"--"+this.info.id+'">');var r=["rl__container"];e.emit("open",i,r),t+='<div class="'+r.join(" ")+'">',e.emit("opened",i);var o=[P+(this.options.wrap?" rl__body--wrap":"")];return e.emit("body:open",i,o),t+='<div class="'+o.join(" ")+'">',e.emit("body:opened",i),t+='<div class="rl__code">',this.renderLines(i),t+="</div>",e.emit("body:close",i),t+="</div>",e.emit("close",i),t+="</div>",e.emit("closed",i),n&&(t+="</pre>"),t},t.destroy=function(){this.event.emit("destroy"),this.event.destroy()},e}(),q=/[+-]?(\d+\.?\d*|\d*\.?\d+)([eE][+-]?\d+)?/,G=/\b(?:true|false)\b/,V=/[[\]{}()]/,W=/[ \t]+/,U=/'(?:\\'|.)*?'/,Y=/"(?:\\"|.)*?"/,K=/\/\*[\s\S]*?\*\//,nn=/\/\/.*/,en=/\b(?:break|catch|class|continue|do|else|extends|finally|for|function|if|implements|in|instanceof|interface|new|null|return|throw|try|while)\b/;function tn(){return{id:"css",name:"CSS",grammar:{main:[["#common"],["#findSingleAtrule"],["#findBlock"]],findBlock:[["#block",/(?:(?![\t-\r ;\{\}\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S])(?:(?![;\{\}])[\s\S])*\{[\s\S]*?\}/,"@rest"]],findSingleAtrule:[["#atrule",/@(?:(?![;\{])[\s\S])+?;/]],findAtrule:[["#atrule",/@(?:(?![;\{])[\s\S])*?(?=[;\{])/]],findSelector:[["#selector",/(?:(?![\t-\r ;\{\}\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S])[\s\S]*?(?=\{)/]],common:[[l,/(["'])[\s\S]*?(?:(?!\\)[\s\S])\1/],[t,K],[b,W]],block:[["#inner",/{/,"@rest"],[h,/}/,"@break"],["#findAtrule"],["#findSelector"],[b,W]],inner:[[h,/{/],["#common"],["#findBlock"],["#props"],["#findAtrule"],["",/}/,"@back"]],atrule:[["#common"],["#url",/\burl\(/,"@rest"],[b,W],["atrule",/[^\s();]+/],[g,/[:;,]/],["#paren",/\(/,"@rest"]],paren:[[h,/^\(/],["#common"],["#paren",/\(/,"@rest"],[h,/\)/,"@break"],["#props"]],selector:[["#common"],[v,/[>+~]/],[h,/[[\]()]/],[g,/=/],[r,/::?\S+/],[r,/[\W\d]\S+/],[i,/\b[a-z]+|\*/i],[r,/\S+/]],url:[["#common"],[p,/^url/],[h,/\(/],[l,/[^)]+/],[h,/\)/,"@break"]],props:[[a,/[a-z0-9-_\xA0-\uFFFF]+(?=:)/i],["#url",/\burl\(/,"@rest"],[p,/\b[\w-]+(?=\()\b/],[e,/!important|\b(?:initial|inherit|unset)/],[a,/[a-z0-9-]+(?=:)/],[f,/#([0-9a-f]{6}|[0-9a-f]{3})/i],[f,/\bU\+[0-9a-f?-]+/i],[f,/[+-]?(\d+\.?\d*|\d*\.?\d+)/],[g,/[:;,]/],["#paren",/\(/,"@rest"],[h,/[[\])]/],[b,W]]}}}function rn(){return{id:"javascript",name:"JavaScript",alias:["js"],source:{func:/[_$a-z\xA0-\uFFFF][_$a-z0-9\xA0-\uFFFF]*/},grammar:{main:[[l,U],[l,Y],["#backtick",/`/,"@rest"],[t,K],[t,nn],["regexp",/\/(\[.*[^\\]?]|\\\/|.)+?\/[gimsuy]*/],[e,en],[e,/\b(?:as|async|await|case|catch|const|debugger|default|delete|enum|export|from|import|let|package|private|protected|public|super|switch|static|this|typeof|undefined|var|void|with|yield)\b/],[e,/\b((get|set)(?=\s+%func))/i],[m,/\b[A-Z][\w$]*\b/],[p,/%func(?=\s*\()/i],[d,G],["decorator",/@[^\s(@]+/],["identifier",/\b[a-z_$][\w$]*\b/],[f,q],[v,/=>/],[v,/\+[+=]?|-[-=]?|\*\*?=?|[/%^]=?|&&?=?|\|\|?=?|\?\??=?|<<?=?|>>>=?|>>?=?|[!=]=?=?|[~:^]/],[h,V],[g,/[;.,]+/],[b,W]],backtick:[[l,/^`/],[l,/(\$[^{]|\\[$`]|[^`$])+/],["#expression",/\${/,"@rest"],[l,/`/,"@break"]],expression:[[g,/^\${/],[g,/}/,"@break"],["#main"]]}}}function on(n){void 0===n&&(n={});var e=(n.script||rn)(),r=(n.style||tn)(),a=[u,/<!\[CDATA\[[\s\S]*\]\]>/i];return e.grammar.main.unshift(a),r.grammar.main.unshift(a),{id:"html",alias:["markup"],name:"HTML",use:{script:e,style:r},grammar:{main:[[t,/<!\x2D\x2D[\s\S]*?\x2D\x2D>/],[c,/<!DOCTYPE[\s\S]*?>/i],a,["#script",/<script[\s\S]*?>[\s\S]*?<\/script>/],["#style",/<style[\s\S]*?>[\s\S]*?<\/style>/],["#tag",/<[\s\S]*?>/],["entity",/&[\da-z]+;|&#\d+;/i],[b,W]],cdata:[[u,/<!\[CDATA\[[\s\S]*\]\]>/i]],script:[["#tag",/^<script[\s\S]*?>/],["#cdata"],["@script",/[\s\S]+(?=<\/script>)/],["#tag",/<\/script>/]],style:[["#tag",/^<style[\s\S]*?>/],["@style",/[\s\S]+(?=<\/style>)/],["#tag",/<\/style>/]],tag:[["#attr",/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]+(?=[\t-\r \/>\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/],[i,/[^\s/<>"'=]+/],[h,/[<>]/],[g,/[/]/]],attr:[[b,W],[s,/(['"])(\\\1|.)*?\1/],[g,/[/=]/],[o,/[^\s/>"'=]+/]]}}}function an(n){void 0===n&&(n={});var e=T((n.base||rn)(),{id:"jsx",name:"JSX",alias:["react"]}),t=e.grammar;return N(t.main,m,[["#findPairedTag"],["#findSelfClosedTag"]]),T(t,{findPairedTag:[["#pairedTag",/(?:<[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*?([0-9A-Z_a-z]+)[\s\S]*?>[\s\S]*?<\/\1>)|<[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*?>[\s\S]*?<\/>/,"@rest"]],findSelfClosedTag:[["#selfClosedTag",/<(?:\{[\s\S]*?\}|(["'])[\s\S]*?\1|(?:(?!>)[\s\S]))+?\/>/]],findBracket:[["#code",/{/,"@rest"]],pairedTag:[["#openTag",/^</,"@rest"],["#findBracket"],["#findPairedTag"],["#findSelfClosedTag"],["#tagName",/<\/([\w][^\s]*?)?>/,"@break"],[b,W]],code:[[h,/^{/],[h,/}/,"@break"],["#findBracket"],["#main"]],selfClosedTag:[["#openTag",/^</,"@rest"]],openTag:[["#tagName",/<\s*[^\s/>"'=]*/],["#findBracket"],[o,/[^\s/>"'=]+/],[s,/(['"])(\\\1|.)*?\1/],[b,W],[g,/[/=]/],[h,/>/,"@break"]],tagName:[[h,/[<>]/],[b,W],[g,/\//],[m,/[A-Z][\w$-]*/],[i,/[^\s/>"'=]+/]]}),e}function sn(){return{id:"none",name:"",grammar:{main:[]}}}function un(){var n=T(on(),{id:"xml",name:"XML",alias:[]});return n.grammar.main.unshift([c,/<\?[\s\S]*?\?>/]),n}function cn(){var n=T(rn(),{id:"typescript",name:"TypeScript",alias:["ts"]}),t=n.grammar,i=t.main;return N(i,e,[[e,/\b(?:declare|keyof|namespace|readonly|type|string|number|boolean|bigint|symbol|object|any|never|unknown|infer|is)\b/]]),N(i,p,[["#functions",/([_$a-z\xA0-\uFFFF][_$a-z0-9\xA0-\uFFFF]*)?(?:<[^>]+?>)?\s*?\(/]]),T(t,{functions:[[p,/^[\w$]+/]].concat(i.filter((function(n){return"#functions"!==n[0]})))}),n}var ln=Object.freeze({__proto__:null,css:tn,html:on,javascript:rn,json:function(){return{id:"json",name:"JSON",grammar:{main:[[a,/".*?[^\\]"(?=:)/],[l,Y],[e,/\bnull\b/],[f,/[+-]?(\d+\.?\d*)([eE][+-]?\d+)?/],[h,/[{}[\]]/],[d,G],[v,/:/],[g,/,/],[b,W]]}}},jsx:an,none:sn,scss:function(){var n=T(tn(),{id:"scss",name:"SCSS"}),e=n.grammar;return T(e,{findBlock:[["#block",/([\*-_a-z]|#\{(?:(?!;)[\s\S])*?\}|((#\{(?:(?!;)[\s\S])*?\}|(?:(?![\t-\r ;\{\}\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S]))(#\{(?:(?!;)[\s\S])*?\}|(?:(?![#;\{\}])[\s\S])|#(?:(?!\{)[\s\S]))+?))(?!#)\{[\s\S]*?\}/i,"@rest"]],findSingleAtrule:[["#atrule",/@(#\{|(?:(?![;\{])[\s\S]))+?;/]],findAtrule:[["#atrule",/@(#\{|(?:(?![;\{])[\s\S]))*?(?=[;\{])/]],findSelector:[["#selector",/(?:(?!;)[\s\S])*?(?:(?!#)[\s\S])(?=\{)/,""]],findInterp:[["#interp",/#{/,"@rest"]],common:[["#string"],[t,K],[t,nn],[g,/;/],[b,W]],string:[["#singleQuote",/'/,"@rest"],["#doubleQuote",/"/,"@rest"]],singleQuote:[[l,/^'/],["#findInterp"],[l,/(\\'|#[^{]|[^'#])+/],[l,/'/,"@break"]],doubleQuote:[[l,/^"/],["#findInterp"],[l,/(\\"|#[^{]|[^"#])+/],[l,/"/,"@break"]],selector:[["#common"],["#findInterp"],[v,/[>+~]/],[h,/[[\]()]/],[g,/=/],[r,/::?\S+(?=#{)/],[r,/[\W\d]\S+(?=#{)/],[i,/\b[a-zA-Z]+\b|\*/],[r,/([^#\s]|#[^{\s])+/]],url:[["#common"],["#findInterp"],[p,/^url/],[h,/\(/],[l,/[^)]+(?=#{)/],[l,/[^)]+/],[h,/\)/,"@break"]],interp:[[g,/#{/],[g,/}/,"@break"],["#common"],["#props"]]}),e.inner.unshift(["#findInterp"]),N(e.atrule,"#url",[["#findInterp"]]),N(e.props,a,[["#findInterp"],["variable",/\$[\w-_]+/]]),n},svg:function(){return T(un(),{id:"svg",name:"SVG",alias:[]})},tsx:function(){return T(an({base:cn}),{id:"tsx",name:"TSX"})},typescript:cn,vue:function(n){void 0===n&&(n={});var e=T(on(n),{id:"vue",name:"Vue",alias:[]});return e.grammar.main.push(["@script",/{{[\s\S]*?}}/]),e},xml:un}),fn={},dn=function(){function n(n){this.renderers=[],this.options=T({},n)}n.register=function(n){A(n).forEach((function(n){var e=n.id;e&&!fn[e]&&(n.alias||[]).concat(e).forEach((function(e){fn[e]=new D(n)}))}))},n.tokenize=function(e,t){return n.getLexer(t).tokenize(e)},n.has=function(n){return!!fn[n]},n.getLexer=function(e){return fn.none||n.register({id:"none",name:"",grammar:{main:[]}}),fn[e]||fn.none};var e=n.prototype;return e.getRenderer=function(e,t,i){var r=(i=T({},this.options,i)).language,o=n.getLexer(r).language,a=o.name,s=o.id;return new X(n.tokenize(e,r),{name:a,id:s},t,i)},e.apply=function(n,e){for(var t=k(n)?document.querySelectorAll(n):[n],i=0;i<t.length;i++){var r=t[i];if(F(r)){var o=T({},e,{language:z(r,"data-rl-language")||void 0}),a=this.getRenderer($(r),r,o),s=r instanceof HTMLPreElement;s&&w(r,[M,M+"--"+a.info.id]),r.innerHTML=a.html(!s),a.event.emit("applied",r),this.renderers.push(a)}}},e.html=function(n,e){return O(k(n),"Invalid code."),this.getRenderer(n,null,e).html(!0)},e.destroy=function(){this.renderers.forEach((function(n){n.destroy()}))},n}();dn.compose=X.compose;var pn="data-rl-active-lines";function mn(n,e,t){var i="rl__figcaption";n('<figcaption class="'+i+" "+i+(t?"--bottom":"--top")+'">'),n("<span>"+e+"</span>"),n("</figcaption>")}var vn={html:"Copy",activeHtml:"Done",duration:1e3,ariaLabel:"Copy code to clipboard",position:"topRight"};function hn(n,e){var t,i,r,o,a,s=(t="textarea",o=document.createElement(t),i&&w(o,i),r&&E(r,o),o);s.textContent=n,C(s,{position:"absolute",left:"-99999px"}),E(document.body,s),s.focus(),s.select();try{document.execCommand("copy")}catch(n){alert("Failed to copy."),a=!0}document.body.removeChild(s),a||e()}var gn={addedSymbol:"+",deletedSymbol:"-"};function bn(n,e,t,i){n.indexOf(t)>-1?i.push("is-added"):e.indexOf(t)>-1&&i.push("is-deleted")}var yn=Object.freeze({__proto__:null,ActiveLines:function(n){var e=n.event,t=n.root,i=n.options,r=t&&function(n){var e=z(n,pn);if(e)try{return JSON.parse(e)}catch(n){t=n.message,console.error("[ryuseilight] "+t)}var t}(t)||i.activeLines;if(_(r)){var o=function(n){var e=[];return n.forEach((function(n){_(n)||(n=[n,n]);for(var t=(+n[0]||1)-1,i=(+n[1]||1)-1,r=t;r<=i;r++)e[r]=Q})),e}(r);e.on("gutter:row:open",(function(n,e,t){o[t]&&e.push(o[t])})),e.on("line:open",(function(n,e,t){o[t]&&e.push(o[t])}))}},Caption:function(n){var e=n.event,t=n.root,i=n.options,r=t&&z(t,"data-rl-caption");if(r||i.caption){var o=i.caption,a=T({},S(o)?o:null),s=a.position,u=a.html,c=r||u||(k(o)?o:"");if(c){var l="bottom"===s;e.on("open",(function(n){n('<figure class="rl__figure">'),l||mn(n,c)})),e.on("closed",(function(n){l&&mn(n,c,!0),n("</figure>")}))}}},Copy:function(e){var t=e.lines,i=e.event,r=e.options;if(r.copy){var o=T({},vn,S(r.copy)?r.copy:{}),a="rl__button__label";r.tools=o.position,i.on("tools:"+o.position,(function(n){n('<button type="button" class="rl__button rl__copy" aria-label="'+o.ariaLabel+'">'),n('<span class="'+a+" "+a+'--inactive">'+o.html+"</span>"),n('<span class="'+a+" "+a+'--active">'+o.activeHtml+"</span>"),n("</button>")})),i.on("applied",(function(e){var r=j(".rl__copy",e),a=t.map((function(n){return n.map((function(n){return n[1]})).join("")})).join(n);if(r){var s=function(){!function(n,e,t){var i=function(){t&&function(n,e){w(n,Q);var t="_rlTimer";n[t]&&clearTimeout(n[t]);n[t]=setTimeout((function(){n.classList.remove(Q)}),e)}(e,t)};navigator.clipboard?navigator.clipboard.writeText(n).then(i).catch((function(){return hn(n,i)})):hn(n,i)}(a,r,o.duration)};r.addEventListener("click",s),i.on("destroy",(function(){r.removeEventListener("click",s)}))}}))}},Diff:function(e){var t=e.event,i=e.lines,r=e.options;if(r.diff){r.gutter=!0;var o=T({},gn,S(r.diff)?r.diff:null),a=[],s=[];i.forEach((function(n,e){if(n.length){var t,i=n[0][1];R(i,o.addedSymbol)?(a.push(e),t=!0):R(i,o.deletedSymbol)&&(s.push(e),t=!0),t&&function(n,e){var t=e[0],i=t[0],r=t[1];if(n)1===r.length?e.shift():e[0]=[i,r.slice(1)];else{var o=[b," "];1===r.length?e[0]=o:(e[0]=[i,r.slice(1)],e.unshift(o))}}(o.removeSymbols,n)}})),(a.length||s.length)&&(t.on("line:open",(function(n,e,t){bn(a,s,t,e)})),t.on("gutter:row:open",(function(n,e,t){bn(a,s,t,e)})),t.on("gutter:row:opened",(function(e,t){var i=n;a.indexOf(t)>-1?i=o.addedSymbol:s.indexOf(t)>-1&&(i=o.deletedSymbol),e('<span class="rl__diff">'+i+"</span>")}),20),t.on("lineNumber:open",(function(n,e,t,i){i.skip=s.indexOf(t)>-1})))}},Gutter:function(n){var e=n.lines,t=n.event,i=n.root,r=n.options;t.on("mounted",(function(){var n,o,a;r.gutter&&(t.on("open",(function(n,e){e.push("has-gutter")})),t.on("body:opened",(function(n){n('<div class="rl__gutter" aria-hidden="true">'),n('<div class="rl__gutter__body">');for(var i=0;i<e.length;i++){var r=["rl__gutter__row"];t.emit("gutter:row:open",n,r,i),n('<div class="'+r.join(" ")+'">'),t.emit("gutter:row:opened",n,i),n("</div>")}n("</div>"),n("</div>")})),i&&"undefined"!=typeof window&&(window.addEventListener("resize",(n=s,o=100,function(){a||(a=setTimeout((function(){n(),a=null}),o))})),s(),t.on("destroy",(function(){window.removeEventListener("resize",s)}))));function s(){var n=j(".rl__gutter",i),e=j("."+J,i);if(n&&e)for(var t=0;t<e.children.length;t++){var r=n.children[t],o=e.children[t];F(r)&&r.clientHeight!==o.clientHeight&&C(r,{height:o.clientHeight+"px"})}}}))},LanguageName:function(n){var e=n.event,t=n.info,i=n.options,r=t.name;if(i.languageName&&r){var o="topLeft"===i.languageName?"topLeft":"topRight";i.overlay=i.overlay||{},i.overlay[o]=!0,e.on("overlay:"+o,(function(n){n('<span class="rl__name">'+t.name+"</span>")}))}},LineNumbers:function(e){var t=e.root,i=e.event,r=e.options,o=t?z(t,"data-rl-line-numbers"):"",a=""===o?+r.lineNumbers:+o;if(a||0===a){r.gutter=!0;var s=Math.floor(a)-1;i.on("gutter:row:opened",(function(e,t){var r=["rl__line-number"],o={skip:!1,content:t+1+s};i.emit("lineNumber:open",e,r,t,o),o.skip&&(o.content=n,s--),e('<span class="'+r.join(" ")+'">'+o.content+"</span>")}))}},Overlay:function(n){var e=n.event,t=n.options;e.on("mounted",(function(){var n=t.overlay,i=void 0===n?{}:n,r=t.tools,o=i.topRight,a=i.topLeft;[o=o||"topRight"===r,a=a||"topLeft"===r].forEach((function(n,t){n&&(r&&function(n,e){var t=e?"Left":"Right";n.on("overlay:top"+t,(function(e){e('<span class="rl__tools">'),n.emit("tools:top"+t,e),e("</span>")}))}(e,1===t),function(n,e){var t="rl__overlay";n.on("close",(function(i){i('<div class="'+t+" "+t+"--top-"+(e?"left":"right")+'">'),n.emit("overlay:top"+(e?"Left":"Right"),i),i("</div>")}))}(e,1===t))})),(o||a)&&e.on("open",(function(n,e){e.push("has-top-overlay")}))}))}});return L(ln,(function(n){dn.register(n())})),dn.compose(yn),dn}));
//# sourceMappingURL=ryuseilight-complete.min.js.map
