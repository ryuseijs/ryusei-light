!function(n,e){if("function"==typeof define&&define.amd)define([],e);else if("undefined"!=typeof exports)e();else{e(),n.unknown={}}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,(function(){var n="space";function e(n){return null!==n&&"object"==typeof n}function i(n){return void 0===n}function f(n,e){if(n)for(var i=Object.keys(n),f=0;f<i.length;f++)e(n[i[f]],i[f])}function o(n,e){return n.charAt(0)===e}var t={addedSymbol:"+",deletedSymbol:"-"};function d(n,e,i,f){n.indexOf(i)>-1?f.push("is-added"):e.indexOf(i)>-1&&f.push("is-deleted")}"undefined"!=typeof window&&window.RyuseiLight&&window.RyuseiLight.compose({Diff:function(u){var l=u.event,r=u.lines,s=u.options;if(s.diff){s.gutter=!0;var c=function(n){for(var o=arguments.length,t=new Array(o>1?o-1:0),d=1;d<o;d++)t[d-1]=arguments[d];return t.forEach((function(o){e(o)&&f(o,(function(e,f){i(o[f])||(n[f]=o[f])}))})),n}({},t,e(s.diff)?s.diff:null),a=[],h=[];r.forEach((function(e,i){if(e.length){var f,t=e[0][1];o(t,c.addedSymbol)?(a.push(i),f=!0):o(t,c.deletedSymbol)&&(h.push(i),f=!0),f&&function(e,i){var f=i[0],o=f[0],t=f[1];if(e)1===t.length?i.shift():i[0]=[o,t.slice(1)];else{var d=[n," "];1===t.length?i[0]=d:(i[0]=[o,t.slice(1)],i.unshift(d))}}(c.removeSymbols,e)}})),(a.length||h.length)&&(l.on("line:open",(function(n,e,i){d(a,h,i,e)})),l.on("gutter:row:open",(function(n,e,i){d(a,h,i,e)})),l.on("gutter:row:opened",(function(n,e){var i="\n";a.indexOf(e)>-1?i=c.addedSymbol:h.indexOf(e)>-1&&(i=c.deletedSymbol),n('<span class="rl__diff">'+i+"</span>")}),20),l.on("lineNumber:open",(function(n,e,i,f){f.skip=h.indexOf(i)>-1})))}}})}));
